---

# Where the app home lives
felidae_home: /opt/felidae

# What subdirectory of felidae_home (typically) to mount as the persistent volume
felidae_volume_path: storage

# Version
felidae_version: latest

# Docker image
felidae_docker_image: "ghcr.io/freedomofpress/felidae:{{ felidae_version }}"

# Docker restart policy
felidae_docker_restart: unless-stopped

# Docker network name. This needs to match the name used in the
# CometBFT compose file. We assume we will create this network in
# this role, but you might wish to do it in the other role (in
# which case, set the variable below this one to false).
felidae_docker_network: webcat

felidae_docker_setup_network: true

# Name for the container
felidae_docker_container_name: felidae

# The external port for the Felidae read-only 'query' port.
# This can be made reachable by your CometBFT sentry node,
# it is non-sensitive. You can run an Nginx reverse proxy
# in front to terminate HTTPS for this Felidae's query endpoint
# as well as the felidae_oracle's POST /observe and GET /health
felidae_query_external_port: 8080

# The internal port for the Felidae read-only 'query' port
felidae_query_internal_port: 80

# The port for the Felidae ABCI app
felidae_abci_external_port: 26658
felidae_abci_internal_port: 26658

# The interface/host to bind the ABCI port to. On Docker you probably want
# this to be 0.0.0.0, so that you can use a bridge network to NAT to it
# from the host. This will allow CometBFT in a separate Docker container
# to be able to access tcp://felidae:26658 as its proxyapp.
#
# Just be sure to not allow direct access to this port from the outside world!
# We bind the Docker NAT side to 127.0.0.1 for this reason.
felidae_abci_host: 0.0.0.0

# The below options define whether this host runs a Felidae Admin or an Oracle
# container (in addition to the main Felidae service).

# Whether this felidae instance is an admin. Admins should run on the CometBFT validators.
felidae_admin: false
felidae_admin_docker_container_name: felidae-admin

# Whether this felidae instance is an oracle. Oracles should run on the CometBFT sentries.
felidae_oracle: false
felidae_oracle_docker_container_name: felidae-oracle

# External port for the Felidae Oracle's POST /observe and GET /health endpoints.
# You would put these behind an Nginx reverse proxy that terminates HTTPS.
felidae_oracle_external_port: 8081

# Internal port of the Felidae Oracle service.
felidae_oracle_internal_port: 8080

# CometBFT node for the Oracle to communicate with
felidae_oracle_node: http://cometbft-sentry:26657

# The path under felidae_home to store Admin keys.
felidae_admin_keys_path: admin_keys

# The path under felidae_home to store Oracle keys.
felidae_oracle_keys_path: oracle_keys
